# üîí –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ WireGuard VPN –¥–ª—è –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –≤ –†–æ—Å—Å–∏–∏ (2025)

**–î–∞—Ç–∞ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è:** 11 –¥–µ–∫–∞–±—Ä—è 2025
**–°—Ç–∞—Ç—É—Å:** –ê–∫—Ç—É–∞–ª—å–Ω–æ –¥–ª—è —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —É—Å–ª–æ–≤–∏–π
**–ö–ª—é—á–µ–≤–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ WireGuard –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º–∏ –†–§ —Å –∏—é–Ω—è-–∞–≤–≥—É—Å—Ç–∞ 2024

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è WireGuard](#1-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è-wireguard)
2. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞](#2-—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-—Å–µ—Ä–≤–µ—Ä–∞)
3. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤](#3-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–∫–ª–∏–µ–Ω—Ç–æ–≤)
4. [–û–±—Ö–æ–¥ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ DPI –≤ –†–æ—Å—Å–∏–∏](#4-–æ–±—Ö–æ–¥-–±–ª–æ–∫–∏—Ä–æ–≤–æ–∫-dpi-–≤-—Ä–æ—Å—Å–∏–∏)
5. [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å](#5-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å-–∏-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
6. [–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ](#6-–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è-–∏-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
7. [–ì–æ—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏](#7-–≥–æ—Ç–æ–≤—ã–µ-–∫–æ–º–∞–Ω–¥—ã-–∏-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)

---

## 1. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è WireGuard

### 1.1 –ß—Ç–æ —Ç–∞–∫–æ–µ WireGuard

**WireGuard** ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π VPN-–ø—Ä–æ—Ç–æ–∫–æ–ª, —Ä–∞–±–æ—Ç–∞—é—â–∏–π –≤ —è–¥—Ä–µ Linux (—Å –≤–µ—Ä—Å–∏–∏ 5.6+), –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–π –≤—ã—Å–æ–∫—É—é —Å–∫–æ—Ä–æ—Å—Ç—å, –ø—Ä–æ—Å—Ç–æ—Ç—É –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —ç–Ω–µ—Ä–≥–æ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å.

**–ö–ª—é—á–µ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- –í—Å–µ–≥–æ **~4,000 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞** (vs 100,000 —É OpenVPN)
- –í—Å—Ç—Ä–æ–µ–Ω –≤ —è–¥—Ä–æ Linux –Ω–∞—á–∏–Ω–∞—è —Å –≤–µ—Ä—Å–∏–∏ 5.6
- –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ UDP (–ø–æ—Ä—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 51820)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—é: Curve25519, ChaCha20, Poly1305
- –ö—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å: Windows, macOS, iOS, Android, Linux, BSD

### 1.2 –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ WireGuard

#### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
| –ú–µ—Ç—Ä–∏–∫–∞ | WireGuard | OpenVPN |
|---------|-----------|---------|
| **–°–∫–æ—Ä–æ—Å—Ç—å** | 1011 Mbps | 258 Mbps |
| **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ** | **+75%** | –ë–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å |
| **Ping** | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π | –í—ã—à–µ –Ω–∞ 20-40% |

**–≠–Ω–µ—Ä–≥–æ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:**
- –ü–æ—Ç—Ä–µ–±–ª—è–µ—Ç –º–µ–Ω—å—à–µ —ç–Ω–µ—Ä–≥–∏–∏ –±–ª–∞–≥–æ–¥–∞—Ä—è —Ä–∞–±–æ—Ç–µ –≤ —è–¥—Ä–µ
- –ò–¥–µ–∞–ª–µ–Ω –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –ë—ã—Å—Ç—Ä–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ —Å–º–µ–Ω–µ —Å–µ—Ç–∏

#### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–¥ = –º–µ–Ω—å—à–µ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
- –õ–µ–≥–∫–æ –∞—É–¥–∏—Ä—É–µ—Ç—Å—è
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è –∫–ª—é—á–µ–π

#### –ü—Ä–æ—Å—Ç–æ—Ç–∞
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ `.conf`
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
- –ù–µ—Ç —Å–ª–æ–∂–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –∫–∞–∫ –≤ OpenVPN

### 1.3 –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: WireGuard vs OpenVPN vs IPSec

| –ö—Ä–∏—Ç–µ—Ä–∏–π | WireGuard | OpenVPN | IPSec |
|----------|-----------|---------|-------|
| **–°–∫–æ—Ä–æ—Å—Ç—å** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê |
| **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê | ‚≠ê |
| **–≠–Ω–µ—Ä–≥–æ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê |
| **–†–∞–∑–º–µ—Ä –∫–æ–¥–∞** | 4K —Å—Ç—Ä–æ–∫ | 100K —Å—Ç—Ä–æ–∫ | –°–ª–æ–∂–Ω—ã–π —Å—Ç–µ–∫ |
| **–û–±—Ö–æ–¥ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫** | ‚≠ê‚≠ê (–ª–µ–≥–∫–æ –¥–µ—Ç–µ–∫—Ç–∏—Ç—Å—è) | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê |
| **–ú–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê |
| **–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ** | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |

**–í—ã–≤–æ–¥—ã 2025:**
- **WireGuard** ‚Äî –æ–ø—Ç–∏–º–∞–ª–µ–Ω –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤, –ù–û —Ç—Ä–µ–±—É–µ—Ç –æ–±—Ñ—É—Å–∫–∞—Ü–∏–∏ –≤ –†–æ—Å—Å–∏–∏
- **OpenVPN** ‚Äî –ª—É—á—à–∏–π –≤—ã–±–æ—Ä –¥–ª—è –æ–±—Ö–æ–¥–∞ —Ü–µ–Ω–∑—É—Ä—ã –±–µ–∑ –¥–æ—Ä–∞–±–æ—Ç–æ–∫
- **IPSec** ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Å–µ—Ç–µ–π

### 1.4 –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã –ø—Ä–æ—Ç–æ–∫–æ–ª–∞

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
–ö–ª–∏–µ–Ω—Ç (peer) <----> –°–µ—Ä–≤–µ—Ä (peer)
    |                    |
   wg0                  wg0
(10.0.0.2)          (10.0.0.1)
    |                    |
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ UDP 51820 ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–†–∞–±–æ—Ç–∞ —Å –∫–ª—é—á–∞–º–∏:**
- –ö–∞–∂–¥–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏–º–µ–µ—Ç **–ø—Ä–∏–≤–∞—Ç–Ω—ã–π** –∏ **–ø—É–±–ª–∏—á–Ω—ã–π** –∫–ª—é—á
- –ü—É–±–ª–∏—á–Ω—ã–µ –∫–ª—é—á–∏ –æ–±–º–µ–Ω–∏–≤–∞—é—Ç—Å—è –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º –∏ —Å–µ—Ä–≤–µ—Ä–æ–º
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**Handshake:**
- –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫–∞–∂–¥—ã–µ 2 –º–∏–Ω—É—Ç—ã –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ —Å–º–µ–Ω–µ IP
- Silence = no packets (—ç–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞)

**–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ø—Ä–æ–±–ª–µ–º–∞ –¥–ª—è –†–æ—Å—Å–∏–∏:**
> ‚ö†Ô∏è **WireGuard –∏–º–µ–µ—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–∏–≥–Ω–∞—Ç—É—Ä—É –ø–∞–∫–µ—Ç–æ–≤**, –∫–æ—Ç–æ—Ä—É—é DPI –ª–µ–≥–∫–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç. –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã –†–§ –±–ª–æ–∫–∏—Ä—É—é—Ç —Ç—Ä–∞—Ñ–∏–∫ —Å –∏—é–Ω—è-–∞–≤–≥—É—Å—Ç–∞ 2024.

**–†–µ—à–µ–Ω–∏–µ:** –û–±—Ñ—É—Å–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ AmneziaWG, Shadowsocks, UDP2RAW (—Å–º. —Ä–∞–∑–¥–µ–ª 4).

---

## 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

### 2.1 –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è VPS:**
- OS: Ubuntu 20.04+ / Debian 10+
- RAM: 512 MB (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 1 GB+)
- CPU: 1 —è–¥—Ä–æ
- Kernel: Linux 5.6+ (–¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ WireGuard –≤ —è–¥—Ä–µ)
- –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: **–∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –†–§** (–ù–∏–¥–µ—Ä–ª–∞–Ω–¥—ã, –§–∏–Ω–ª—è–Ω–¥–∏—è, –ì–µ—Ä–º–∞–Ω–∏—è)

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ —è–¥—Ä–∞:**
```bash
uname -r
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å >= 5.6 –¥–ª—è –Ω–∞—Ç–∏–≤–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ WireGuard
```

### 2.2 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ WireGuard –Ω–∞ Ubuntu/Debian

#### –ú–µ—Ç–æ–¥ 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏:**
```bash
# –ó–∞–≥—Ä—É–∂–∞–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫
wget https://git.io/wireguard -O wireguard-install.sh

# –î–∞–µ–º –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
chmod +x wireguard-install.sh

# –ó–∞–ø—É—Å–∫–∞–µ–º —É—Å—Ç–∞–Ω–æ–≤–∫—É
sudo ./wireguard-install.sh
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç:**
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç WireGuard
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–ª—é—á–∏ —Å–µ—Ä–≤–µ—Ä–∞
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç NAT –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é
- –°–æ–∑–¥–∞–µ—Ç –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–æ—Ä—Ç—ã –≤ firewall

#### –ú–µ—Ç–æ–¥ 2: –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

**–®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤**
```bash
# –û–±–Ω–æ–≤–ª—è–µ–º —Å–∏—Å—Ç–µ–º—É
sudo apt update && sudo apt upgrade -y

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º WireGuard
sudo apt install wireguard -y

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
sudo apt install qrencode iptables-persistent -y
```

**–®–∞–≥ 2: –í–∫–ª—é—á–µ–Ω–∏–µ IP forwarding**
```bash
# –í–∫–ª—é—á–∞–µ–º –ø–µ—Ä–µ—Å—ã–ª–∫—É –ø–∞–∫–µ—Ç–æ–≤
sudo sysctl -w net.ipv4.ip_forward=1
sudo sysctl -w net.ipv6.conf.all.forwarding=1

# –î–µ–ª–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º–∏
echo "net.ipv4.ip_forward=1" | sudo tee -a /etc/sysctl.conf
echo "net.ipv6.conf.all.forwarding=1" | sudo tee -a /etc/sysctl.conf
```

**–®–∞–≥ 3: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π —Å–µ—Ä–≤–µ—Ä–∞**
```bash
# –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é WireGuard
cd /etc/wireguard

# –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á
wg genkey | sudo tee server_private.key

# –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –∏–∑ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ
sudo cat server_private.key | wg pubkey | sudo tee server_public.key

# –ó–∞—â–∏—â–∞–µ–º –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á
sudo chmod 600 server_private.key
```

**–®–∞–≥ 4: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞**
```bash
sudo nano /etc/wireguard/wg0.conf
```

**–ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞ (`/etc/wireguard/wg0.conf`):**
```ini
[Interface]
# –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á —Å–µ—Ä–≤–µ—Ä–∞
PrivateKey = <SERVER_PRIVATE_KEY>

# IP –∞–¥—Ä–µ—Å VPN —Å–µ—Ä–≤–µ—Ä–∞
Address = 10.0.0.1/24

# –ü–æ—Ä—Ç –¥–ª—è –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
ListenPort = 51820

# –ö–æ–º–∞–Ω–¥—ã –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
PostUp = iptables -A FORWARD -i wg0 -j ACCEPT
PostUp = iptables -A FORWARD -o wg0 -j ACCEPT
PostUp = iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE

# –ö–æ–º–∞–Ω–¥—ã –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
PostDown = iptables -D FORWARD -i wg0 -j ACCEPT
PostDown = iptables -D FORWARD -o wg0 -j ACCEPT
PostDown = iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE

# –ü—Ä–∏–º–µ—Ä –∫–ª–∏–µ–Ω—Ç–∞ (–¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞)
[Peer]
# –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –∫–ª–∏–µ–Ω—Ç–∞
PublicKey = <CLIENT_PUBLIC_KEY>

# –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ IP –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞
AllowedIPs = 10.0.0.2/32
```

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –ó–∞–º–µ–Ω–∏—Ç–µ `eth0` –Ω–∞ –≤–∞—à —Å–µ—Ç–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
```bash
# –£–∑–Ω–∞—Ç—å –∏–º—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
ip route | grep default
# –û–±—ã—á–Ω–æ —ç—Ç–æ: eth0, ens3, enp1s0
```

### 2.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ NAT –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏

**NAT (Network Address Translation)** –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞–º –≤—ã—Ö–æ–¥–∏—Ç—å –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–µ—Ä.

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ PostUp/PostDown (—É–∂–µ –≤ –∫–æ–Ω—Ñ–∏–≥–µ –≤—ã—à–µ)

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª iptables:**
```bash
# –†–∞–∑—Ä–µ—à–∞–µ–º —Ñ–æ—Ä–≤–∞—Ä–¥–∏–Ω–≥ –∏–∑ wg0 (VPN)
iptables -A FORWARD -i wg0 -j ACCEPT

# –†–∞–∑—Ä–µ—à–∞–µ–º —Ñ–æ—Ä–≤–∞—Ä–¥–∏–Ω–≥ –≤ wg0
iptables -A FORWARD -o wg0 -j ACCEPT

# NAT: –ø–æ–¥–º–µ–Ω—è–µ–º IP –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–∞ IP —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç
iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
```

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –° UFW (Ubuntu Firewall)

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ UFW:**
```bash
sudo apt install ufw -y
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ UFW –¥–ª—è WireGuard:**
```bash
# –†–∞–∑—Ä–µ—à–∞–µ–º SSH (–í–ê–ñ–ù–û! –ò–Ω–∞—á–µ –ø–æ—Ç–µ—Ä—è–µ—Ç–µ –¥–æ—Å—Ç—É–ø)
sudo ufw allow 22/tcp

# –†–∞–∑—Ä–µ—à–∞–µ–º WireGuard –ø–æ—Ä—Ç
sudo ufw allow 51820/udp

# –í–∫–ª—é—á–∞–µ–º UFW
sudo ufw enable
```

**–î–æ–±–∞–≤–ª—è–µ–º NAT –ø—Ä–∞–≤–∏–ª–∞ –≤ UFW:**
```bash
sudo nano /etc/ufw/before.rules
```

**–î–æ–±–∞–≤—å—Ç–µ –ü–ï–†–ï–î `*filter` –≤ –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–∞:**
```bash
# NAT —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è WireGuard
*nat
:POSTROUTING ACCEPT [0:0]
-A POSTROUTING -s 10.0.0.0/24 -o eth0 -j MASQUERADE
COMMIT
```

**–†–∞–∑—Ä–µ—à–∞–µ–º IP forwarding –≤ UFW:**
```bash
sudo nano /etc/ufw/sysctl.conf
```

**–†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ:**
```ini
net/ipv4/ip_forward=1
net/ipv6/conf/default/forwarding=1
net/ipv6/conf/all/forwarding=1
```

**–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º UFW:**
```bash
sudo ufw reload
```

### 2.4 –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ—Ä—Ç–æ–≤ –∏ Firewall

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ—Ä—Ç–æ–≤:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ UFW
sudo ufw status numbered

# –ü—Ä–æ–≤–µ—Ä–∫–∞ iptables
sudo iptables -L -n -v

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–µ–º—ã—Ö –ø–æ—Ä—Ç–æ–≤
sudo ss -tulpn | grep 51820
```

**–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±–ª–∞—á–Ω—ã–π firewall (AWS, DigitalOcean, etc):**
- –û—Ç–∫—Ä–æ–π—Ç–µ UDP –ø–æ—Ä—Ç 51820 –≤ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è VPS
- –î–ª—è AmneziaWG –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ—Ä—Ç—ã (53, 443, 80)

### 2.5 –ó–∞–ø—É—Å–∫ WireGuard

**–ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞:**
```bash
# –ó–∞–ø—É—Å–∫–∞–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å wg0
sudo wg-quick up wg0

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å
sudo wg show

# –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–∏—Å—Ç–µ–º—ã
sudo systemctl enable wg-quick@wg0
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:**
```bash
# –°–º–æ—Ç—Ä–∏–º —Å—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
ip addr show wg0

# –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
# wg0: <POINTOPOINT,NOARP,UP,LOWER_UP>
#     inet 10.0.0.1/24 scope global wg0
```

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–º:**
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
sudo wg-quick down wg0

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
sudo systemctl restart wg-quick@wg0

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
sudo journalctl -u wg-quick@wg0 -f
```

---

## 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤

### 3.1 –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π –∫–ª–∏–µ–Ω—Ç–∞

**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–ª—é—á–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞:**
```bash
# –°–æ–∑–¥–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
mkdir -p /etc/wireguard/clients

# –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–ª—é—á–∏ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞
cd /etc/wireguard/clients
wg genkey | tee client1_private.key | wg pubkey > client1_public.key

# –ó–∞—â–∏—â–∞–µ–º –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á
chmod 600 client1_private.key
```

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞:**
```bash
#!/bin/bash
# –°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞

CLIENT_NAME="client1"
SERVER_PUBLIC_IP="YOUR_SERVER_IP"
SERVER_PUBLIC_KEY=$(cat /etc/wireguard/server_public.key)
CLIENT_PRIVATE_KEY=$(cat /etc/wireguard/clients/${CLIENT_NAME}_private.key)
CLIENT_IP="10.0.0.2"

# –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∫–ª–∏–µ–Ω—Ç–∞
cat > /etc/wireguard/clients/${CLIENT_NAME}.conf <<EOF
[Interface]
PrivateKey = ${CLIENT_PRIVATE_KEY}
Address = ${CLIENT_IP}/32
DNS = 1.1.1.1, 1.0.0.1

[Peer]
PublicKey = ${SERVER_PUBLIC_KEY}
Endpoint = ${SERVER_PUBLIC_IP}:51820
AllowedIPs = 0.0.0.0/0, ::/0
PersistentKeepalive = 25
EOF

echo "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞ —Å–æ–∑–¥–∞–Ω–∞: /etc/wireguard/clients/${CLIENT_NAME}.conf"
```

**–î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä:**
```bash
sudo nano /etc/wireguard/wg0.conf
```

**–î–æ–±–∞–≤–ª—è–µ–º —Å–µ–∫—Ü–∏—é Peer:**
```ini
[Peer]
PublicKey = <CLIENT1_PUBLIC_KEY>
AllowedIPs = 10.0.0.2/32
```

**–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
```bash
sudo wg syncconf wg0 <(wg-quick strip wg0)
# –ò–ª–∏ –ø–æ–ª–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫:
sudo systemctl restart wg-quick@wg0
```

### 3.2 Windows

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞:**
1. –°–∫–∞—á–∞—Ç—å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç: https://www.wireguard.com/install/
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `wireguard-installer.exe`

**–ò–º–ø–æ—Ä—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
1. –û—Ç–∫—Ä—ã—Ç—å WireGuard –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. **Add Tunnel** ‚Üí **Import tunnel(s) from file**
3. –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª `.conf`
4. –ù–∞–∂–∞—Ç—å **Activate**

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: QR –∫–æ–¥ (–¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ —Å —Ç–µ–ª–µ—Ñ–æ–Ω–∞):**
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º QR –∫–æ–¥
qrencode -t ansiutf8 < /etc/wireguard/clients/client1.conf
```

**–ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è Windows:**
```ini
[Interface]
PrivateKey = <CLIENT_PRIVATE_KEY>
Address = 10.0.0.2/32
DNS = 1.1.1.1, 1.0.0.1

# Kill Switch –¥–ª—è Windows
PostUp = powershell -Command "Set-NetFirewallProfile -Profile Domain,Public,Private -DefaultInboundAction Block -DefaultOutboundAction Block"
PostUp = powershell -Command "New-NetFirewallRule -DisplayName 'WireGuard' -Direction Outbound -Action Allow -Program 'C:\Program Files\WireGuard\wireguard.exe'"
PreDown = powershell -Command "Set-NetFirewallProfile -Profile Domain,Public,Private -DefaultOutboundAction Allow"

[Peer]
PublicKey = <SERVER_PUBLIC_KEY>
Endpoint = YOUR_SERVER_IP:51820
AllowedIPs = 0.0.0.0/0, ::/0
PersistentKeepalive = 25
```

### 3.3 Android

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞:**
1. Google Play: https://play.google.com/store/apps/details?id=com.wireguard.android
2. –ò–ª–∏ –ø—Ä—è–º–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ APK —Å https://www.wireguard.com/install/

**–ò–º–ø–æ—Ä—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**

**–ú–µ—Ç–æ–¥ 1: QR –∫–æ–¥ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å–æ–∑–¥–∞–µ–º QR –∫–æ–¥
qrencode -t ansiutf8 < /etc/wireguard/clients/android1.conf

# –í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ WireGuard –Ω–∞ Android:
# + (–ø–ª—é—Å) ‚Üí Scan from QR code
```

**–ú–µ—Ç–æ–¥ 2: –§–∞–π–ª**
1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å `.conf` —Ñ–∞–π–ª –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω
2. –í WireGuard –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏: **+** ‚Üí **Import from file or archive**
3. –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª

**–ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è Android:**
```ini
[Interface]
PrivateKey = <CLIENT_PRIVATE_KEY>
Address = 10.0.0.3/32
DNS = 1.1.1.1, 8.8.8.8

[Peer]
PublicKey = <SERVER_PUBLIC_KEY>
Endpoint = YOUR_SERVER_IP:51820
AllowedIPs = 0.0.0.0/0
PersistentKeepalive = 25
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Android:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ —Å–º–µ–Ω–µ Wi-Fi/–º–æ–±–∏–ª—å–Ω–∞—è —Å–µ—Ç—å
- Battery optimization: –∏—Å–∫–ª—é—á–∏—Ç—å WireGuard –∏–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –±–∞—Ç–∞—Ä–µ–∏
- Always-on VPN: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –°–µ—Ç—å ‚Üí VPN ‚Üí WireGuard ‚Üí Always-on

### 3.4 iOS

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞:**
1. App Store: https://apps.apple.com/app/wireguard/id1441195209
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å WireGuard

**–ò–º–ø–æ—Ä—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**

**–ú–µ—Ç–æ–¥ 1: QR –∫–æ–¥**
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º QR
qrencode -t ansiutf8 < /etc/wireguard/clients/iphone1.conf

# –í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ WireGuard –Ω–∞ iOS:
# + ‚Üí Create from QR code
```

**–ú–µ—Ç–æ–¥ 2: AirDrop/iCloud**
1. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å `.conf` —Ñ–∞–π–ª –≤ iCloud
2. –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª ‚Üí Share ‚Üí WireGuard

**–ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è iOS:**
```ini
[Interface]
PrivateKey = <CLIENT_PRIVATE_KEY>
Address = 10.0.0.4/32
DNS = 1.1.1.1, 1.0.0.1

[Peer]
PublicKey = <SERVER_PUBLIC_KEY>
Endpoint = YOUR_SERVER_IP:51820
AllowedIPs = 0.0.0.0/0, ::/0
PersistentKeepalive = 25
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ iOS:**
- On-Demand: VPN –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí VPN ‚Üí WireGuard ‚Üí Connect On Demand
- –ü—Ä–∞–≤–∏–ª–∞: Wi-Fi/Cellular/Ethernet

### 3.5 MacOS

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞:**
1. App Store: https://apps.apple.com/app/wireguard/id1451685025
2. –ò–ª–∏ Homebrew: `brew install wireguard-tools`

**–ò–º–ø–æ—Ä—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
1. –û—Ç–∫—Ä—ã—Ç—å WireGuard –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. **+** ‚Üí **Import tunnel(s) from file**
3. –í—ã–±—Ä–∞—Ç—å `.conf` —Ñ–∞–π–ª

**–ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è MacOS:**
```ini
[Interface]
PrivateKey = <CLIENT_PRIVATE_KEY>
Address = 10.0.0.5/32
DNS = 1.1.1.1

[Peer]
PublicKey = <SERVER_PUBLIC_KEY>
Endpoint = YOUR_SERVER_IP:51820
AllowedIPs = 0.0.0.0/0, ::/0
PersistentKeepalive = 25
```

### 3.6 Linux

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞:**
```bash
sudo apt install wireguard -y
```

**–†–∞–∑–º–µ—â–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
```bash
# –ö–æ–ø–∏—Ä—É–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å —Å–µ—Ä–≤–µ—Ä–∞
sudo nano /etc/wireguard/wg0.conf
```

**–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**
```bash
# –ó–∞–ø—É—Å–∫ VPN
sudo wg-quick up wg0

# –ü—Ä–æ–≤–µ—Ä–∫–∞
sudo wg show

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
sudo wg-quick down wg0

# –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫
sudo systemctl enable wg-quick@wg0
```

**–ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è Linux:**
```ini
[Interface]
PrivateKey = <CLIENT_PRIVATE_KEY>
Address = 10.0.0.6/32
DNS = 1.1.1.1

# Kill Switch (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
PostUp = iptables -I OUTPUT ! -o %i -m mark ! --mark $(wg show %i fwmark) -m addrtype ! --dst-type LOCAL -j REJECT
PreDown = iptables -D OUTPUT ! -o %i -m mark ! --mark $(wg show %i fwmark) -m addrtype ! --dst-type LOCAL -j REJECT

[Peer]
PublicKey = <SERVER_PUBLIC_KEY>
Endpoint = YOUR_SERVER_IP:51820
AllowedIPs = 0.0.0.0/0, ::/0
PersistentKeepalive = 25
```

### 3.7 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –∫–ª–∏–µ–Ω—Ç–∞

**–ù–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö –ø–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:**

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ IP –∞–¥—Ä–µ—Å–∞:**
   ```bash
   curl ifconfig.me
   # –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å IP –≤–∞—à–µ–≥–æ VPS
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ DNS:**
   ```bash
   nslookup google.com
   # –î–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å DNS –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞ (1.1.1.1)
   ```

3. **–¢–µ—Å—Ç —É—Ç–µ—á–µ–∫:**
   - https://ipleak.net
   - https://dnsleaktest.com
   - –î–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å —Ç–æ–ª—å–∫–æ IP VPS, –±–µ–∑ —É—Ç–µ—á–µ–∫ DNS

---

## 4. –û–±—Ö–æ–¥ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ DPI –≤ –†–æ—Å—Å–∏–∏

### 4.1 –ü—Ä–æ–±–ª–µ–º–∞: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ WireGuard –≤ –†–§

**–°—Ç–∞—Ç—É—Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (2024-2025):**
- ‚ùå **–ò—é–Ω—å-–∞–≤–≥—É—Å—Ç 2024**: –ú–æ–±–∏–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –Ω–∞—á–∞–ª–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å WireGuard
- ‚ùå **–°–µ–Ω—Ç—è–±—Ä—å 2024+**: –ü—Ä–æ–≤–æ–¥–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã (–†–æ—Å—Ç–µ–ª–µ–∫–æ–º, –ú–¢–°, –ë–∏–ª–∞–π–Ω) –ø–æ–¥–∫–ª—é—á–∏–ª–∏—Å—å –∫ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞–º
- ‚úÖ **–†–µ—à–µ–Ω–∏–µ**: –û–±—Ñ—É—Å–∫–∞—Ü–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞

**–ü–æ—á–µ–º—É WireGuard –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –ª–µ–≥–∫–æ:**
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ –ø–∞–∫–µ—Ç–æ–≤
- –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ —Ä–∞–∑–º–µ—Ä—ã handshake
- –£–∑–Ω–∞–≤–∞–µ–º—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–æ–≤
- DPI —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∑–∞ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã

### 4.2 AmneziaWG (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –†–§)

**AmneziaWG** ‚Äî —Ñ–æ—Ä–∫ WireGuard —Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –æ–±—Ñ—É—Å–∫–∞—Ü–∏–µ–π, —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –¥–ª—è –æ–±—Ö–æ–¥–∞ DPI.

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ AmneziaWG –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–ú–µ—Ç–æ–¥ 1: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç Amnezia VPN**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ AmneziaWG —á–µ—Ä–µ–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫
curl -sSL https://get.amnezia.org | bash

# –ò–ª–∏ —á–µ—Ä–µ–∑ Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
docker run -d \
  --name amnezia-awg \
  --cap-add=NET_ADMIN \
  --cap-add=SYS_MODULE \
  -e PUID=1000 \
  -e PGID=1000 \
  -p 51820:51820/udp \
  -v /path/to/config:/config \
  --restart unless-stopped \
  amnezia-vpn/amneziawg
```

**–ú–µ—Ç–æ–¥ 2: –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (Ubuntu/Debian)**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
sudo apt update
sudo apt install -y git build-essential linux-headers-$(uname -r)

# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è AmneziaWG
git clone https://github.com/amnezia-vpn/amneziawg-linux-kernel-module.git
cd amneziawg-linux-kernel-module/src

# –ö–æ–º–ø–∏–ª—è—Ü–∏—è
make

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–¥—É–ª—è
sudo make install

# –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥—É–ª—è
sudo modprobe amneziawg
```

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è AmneziaWG —Å –æ–±—Ñ—É—Å–∫–∞—Ü–∏–µ–π

**–°–µ—Ä–≤–µ—Ä–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (`/etc/amneziawg/awg0.conf`):**
```ini
[Interface]
PrivateKey = <SERVER_PRIVATE_KEY>
Address = 10.0.0.1/24
ListenPort = 51820

# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—Ñ—É—Å–∫–∞—Ü–∏–∏ (–∫–ª—é—á–µ–≤—ã–µ –¥–ª—è –æ–±—Ö–æ–¥–∞ DPI)
Jc = 3         # Junk packet count
Jmin = 50      # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –º—É—Å–æ—Ä–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
Jmax = 1000    # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –º—É—Å–æ—Ä–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
S1 = 0         # –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ 1
S2 = 0         # –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ 2
H1 = 1         # –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è handshake 1
H2 = 2         # –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è handshake 2
H3 = 3         # –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è handshake 3
H4 = 4         # –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è handshake 4

PostUp = iptables -A FORWARD -i awg0 -j ACCEPT
PostUp = iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
PostDown = iptables -D FORWARD -i awg0 -j ACCEPT
PostDown = iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE

[Peer]
PublicKey = <CLIENT_PUBLIC_KEY>
AllowedIPs = 10.0.0.2/32
```

**–ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è AmneziaWG:**
```ini
[Interface]
PrivateKey = <CLIENT_PRIVATE_KEY>
Address = 10.0.0.2/32
DNS = 1.1.1.1

# –ö–†–ò–¢–ò–ß–ù–û: –¢–µ –∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—Ñ—É—Å–∫–∞—Ü–∏–∏, —á—Ç–æ –∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ!
Jc = 3
Jmin = 50
Jmax = 1000
S1 = 0
S2 = 0
H1 = 1
H2 = 2
H3 = 3
H4 = 4

[Peer]
PublicKey = <SERVER_PUBLIC_KEY>
Endpoint = YOUR_SERVER_IP:51820
AllowedIPs = 0.0.0.0/0
PersistentKeepalive = 25
```

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è WireGuard ‚Üí AmneziaWG:**
```bash
# –ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å WireGuard –∫–æ–Ω—Ñ–∏–≥, –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—Ñ—É—Å–∫–∞—Ü–∏–∏
cat >> /etc/wireguard/wg0.conf <<EOF

# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã AmneziaWG (–¥–æ–±–∞–≤–∏—Ç—å –≤ —Å–µ–∫—Ü–∏—é [Interface])
Jc = 3
Jmin = 50
Jmax = 1000
S1 = 0
S2 = 0
H1 = 1
H2 = 2
H3 = 3
H4 = 4
EOF
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –æ–±—Ñ—É—Å–∫–∞—Ü–∏–∏:**
- **Jc, Jmin, Jmax**: –î–æ–±–∞–≤–ª—è—é—Ç —Å–ª—É—á–∞–π–Ω—ã–µ "–º—É—Å–æ—Ä–Ω—ã–µ" –ø–∞–∫–µ—Ç—ã ‚Üí DPI –Ω–µ –º–æ–∂–µ—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω
- **S1, S2**: –ò–∑–º–µ–Ω—è—é—Ç —Ä–∞–∑–º–µ—Ä –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ ‚Üí –º–∞—Å–∫–∏—Ä—É—é—Ç WireGuard signature
- **H1-H4**: –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç handshake ‚Üí –¥–µ–ª–∞—é—Ç –µ–≥–æ –ø–æ—Ö–æ–∂–∏–º –Ω–∞ –¥—Ä—É–≥–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã

**–ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–¥ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã (v1.5+):**
```ini
# –ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–¥ QUIC (Google, YouTube)
H1 = 1
H2 = 2
H3 = 3
H4 = 4

# –ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–¥ DNS
ListenPort = 53
```

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ AmneziaWG –∫–ª–∏–µ–Ω—Ç–∞

**Android:**
```
Google Play: https://play.google.com/store/apps/details?id=org.amnezia.awg
```

**Windows/macOS/Linux:**
```
Amnezia VPN –∫–ª–∏–µ–Ω—Ç: https://amnezia.org/
(–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é WireGuard ‚Üí AmneziaWG)
```

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ñ—É—Å–∫–∞—Ü–∏—è –≤ Amnezia –∫–ª–∏–µ–Ω—Ç–µ:**
1. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±—ã—á–Ω—ã–π WireGuard –∫–æ–Ω—Ñ–∏–≥
2. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≥–∞–ª–æ—á–∫—É "–û–±—Ñ—É—Å—Ü–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∞—Ñ–∏–∫"
3. Amnezia –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã Jc, Jmin, Jmax, S1, S2, H1-H4

### 4.3 WireGuard + Shadowsocks (–¥–≤—É—Ö—ç—Ç–∞–ø–Ω—ã–π –æ–±—Ö–æ–¥)

**–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:**
```
–ö–ª–∏–µ–Ω—Ç ‚Üí Shadowsocks (–†–æ—Å—Å–∏—è) ‚Üí WireGuard (–ó–∞—Ä—É–±–µ–∂) ‚Üí –ò–Ω—Ç–µ—Ä–Ω–µ—Ç
         ‚îî‚îÄ –û–±—Ñ—É—Å–∫–∞—Ü–∏—è           ‚îî‚îÄ –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
```

**–ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- Shadowsocks –º–∞—Å–∫–∏—Ä—É–µ—Ç —Ç—Ä–∞—Ñ–∏–∫ –ø–æ–¥ HTTPS
- WireGuard –≤–Ω—É—Ç—Ä–∏ Shadowsocks —Ç—É–Ω–Ω–µ–ª—è
- DPI –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ "–æ–±—ã—á–Ω—ã–π HTTPS —Ç—Ä–∞—Ñ–∏–∫"

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Shadowsocks –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤ –†–§

**–°–µ—Ä–≤–µ—Ä 1 (–†–æ—Å—Å–∏—è) - Shadowsocks:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Shadowsocks-libev
sudo apt install shadowsocks-libev -y

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è /etc/shadowsocks-libev/config.json
sudo nano /etc/shadowsocks-libev/config.json
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Shadowsocks (`/etc/shadowsocks-libev/config.json`):**
```json
{
    "server": "0.0.0.0",
    "server_port": 443,
    "local_port": 1080,
    "password": "YOUR_STRONG_PASSWORD",
    "timeout": 300,
    "method": "chacha20-ietf-poly1305",
    "mode": "tcp_and_udp",
    "fast_open": true,
    "plugin": "obfs-server",
    "plugin_opts": "obfs=tls;obfs-host=cloudflare.com"
}
```

**–ó–∞–ø—É—Å–∫ Shadowsocks:**
```bash
sudo systemctl enable shadowsocks-libev
sudo systemctl start shadowsocks-libev
```

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ WireGuard —á–µ—Ä–µ–∑ Shadowsocks

**–ù–∞ –∫–ª–∏–µ–Ω—Ç–µ (Windows/Linux):**

1. **–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Shadowsocks —Å–µ—Ä–≤–µ—Ä—É (–†–æ—Å—Å–∏—è)**
2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å WireGuard endpoint —á–µ—Ä–µ–∑ SOCKS5 proxy**

**–ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ WireGuard —Å Shadowsocks:**
```ini
[Interface]
PrivateKey = <CLIENT_PRIVATE_KEY>
Address = 10.0.0.2/32
DNS = 1.1.1.1

# –ò—Å–ø–æ–ª—å–∑—É–µ–º proxychains –¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è WireGuard —á–µ—Ä–µ–∑ Shadowsocks
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å proxychains: sudo apt install proxychains4

[Peer]
PublicKey = <SERVER_PUBLIC_KEY>
# Endpoint —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –∑–∞—Ä—É–±–µ–∂–Ω—ã–π WireGuard —Å–µ—Ä–≤–µ—Ä
Endpoint = FOREIGN_SERVER_IP:51820
AllowedIPs = 0.0.0.0/0
PersistentKeepalive = 25
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ proxychains (`/etc/proxychains4.conf`):**
```ini
[ProxyList]
socks5 127.0.0.1 1080
```

**–ó–∞–ø—É—Å–∫ WireGuard —á–µ—Ä–µ–∑ Shadowsocks:**
```bash
sudo proxychains4 wg-quick up wg0
```

### 4.4 –û–±—Ñ—É—Å–∫–∞—Ü–∏—è —Å UDP2RAW

**UDP2RAW** –º–∞—Å–∫–∏—Ä—É–µ—Ç UDP —Ç—Ä–∞—Ñ–∏–∫ WireGuard –ø–æ–¥ TCP –∏–ª–∏ ICMP.

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ UDP2RAW:**
```bash
# –°–µ—Ä–≤–µ—Ä
git clone https://github.com/wangyu-/udp2raw.git
cd udp2raw
make
sudo cp udp2raw /usr/local/bin/

# –ó–∞–ø—É—Å–∫ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–º–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–¥ TCP)
sudo udp2raw -s -l0.0.0.0:8080 -r127.0.0.1:51820 -k "password" --raw-mode faketcp

# –ö–ª–∏–µ–Ω—Ç
sudo udp2raw -c -l127.0.0.1:51821 -rSERVER_IP:8080 -k "password" --raw-mode faketcp
```

**WireGuard –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ UDP2RAW:**
```ini
[Interface]
PrivateKey = <CLIENT_PRIVATE_KEY>
Address = 10.0.0.2/32

[Peer]
PublicKey = <SERVER_PUBLIC_KEY>
# Endpoint —Ç–µ–ø–µ—Ä—å —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π UDP2RAW –ø–æ—Ä—Ç
Endpoint = 127.0.0.1:51821
AllowedIPs = 0.0.0.0/0
```

### 4.5 –°–º–µ–Ω–∞ –ø–æ—Ä—Ç–æ–≤ (–ø—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø–æ—Ä—Ç–æ–≤:**
```ini
# –í–º–µ—Å—Ç–æ 51820 –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ—Ä—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–¥–∫–æ –±–ª–æ–∫–∏—Ä—É—é—Ç:
ListenPort = 53    # DNS
ListenPort = 443   # HTTPS
ListenPort = 80    # HTTP
ListenPort = 123   # NTP
```

**‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ:** –°–º–µ–Ω–∞ –ø–æ—Ä—Ç–∞ –ø–æ–º–æ–≥–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Ç–∏–≤ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–æ –ø–æ—Ä—Ç—É, –Ω–æ –Ω–µ –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç DPI!

### 4.6 –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –¥–ª—è –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ 2025

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ (–æ—Ç –ª—É—á—à–µ–≥–æ –∫ —Ö—É–¥—à–µ–º—É):**

| –ú–µ—Ç–æ–¥ | –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –°–∫–æ—Ä–æ—Å—Ç—å |
|-------|---------------|-----------|----------|
| **AmneziaWG** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |
| **WireGuard + Shadowsocks** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê |
| **UDP2RAW + WireGuard** | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê |
| **–°–º–µ–Ω–∞ –ø–æ—Ä—Ç–∞** | ‚≠ê‚≠ê | ‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |
| **–û–±—ã—á–Ω—ã–π WireGuard** | ‚≠ê (–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è) | ‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |

**–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å):**
```
1. –û—Å–Ω–æ–≤–Ω–æ–π: AmneziaWG –Ω–∞ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º –ø–æ—Ä—Ç—É (443)
2. –†–µ–∑–µ—Ä–≤–Ω—ã–π: Shadowsocks + WireGuard
3. –≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–π: OpenVPN —Å obfs4
```

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞
ping YOUR_SERVER_IP

# –¢–µ—Å—Ç –ø–∞–∫–µ—Ç–æ–≤ (–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –¥–∞–∂–µ —Å –æ–±—Ñ—É—Å–∫–∞—Ü–∏–µ–π)
sudo wg show

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ DPI –±–ª–æ–∫–∏—Ä–æ–≤–∫—É
curl --connect-timeout 5 https://www.google.com
```

---

## 5. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### 5.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

#### –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –∞—Ç–∞–∫–∏

**–û—Ç–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:**
```bash
# –ó–∞–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –ø–æ—Ä—Ç—ã –∫—Ä–æ–º–µ SSH –∏ WireGuard
sudo ufw default deny incoming
sudo ufw default allow outgoing
sudo ufw allow 22/tcp
sudo ufw allow 51820/udp
sudo ufw enable
```

**–ó–∞—â–∏—Ç–∞ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –∫–ª—é—á–µ–π:**
```bash
# –¢–æ–ª—å–∫–æ root –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å –∫–ª—é—á–∏
sudo chmod 600 /etc/wireguard/*.key
sudo chmod 600 /etc/wireguard/wg0.conf

# –ó–∞–ø—Ä–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è
sudo chattr +i /etc/wireguard/server_private.key
```

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ unattended-upgrades
sudo apt install unattended-upgrades -y
sudo dpkg-reconfigure --priority=low unattended-upgrades
```

#### –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ–±–æ—Ä–∞ (Fail2Ban)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Fail2Ban
sudo apt install fail2ban -y

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è SSH
sudo nano /etc/fail2ban/jail.local
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Fail2Ban (`/etc/fail2ban/jail.local`):**
```ini
[DEFAULT]
bantime = 3600
findtime = 600
maxretry = 5

[sshd]
enabled = true
port = 22
logpath = /var/log/auth.log
```

**–ó–∞–ø—É—Å–∫:**
```bash
sudo systemctl enable fail2ban
sudo systemctl start fail2ban
```

#### –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤

```bash
# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –ª–æ–≥–æ–≤ WireGuard
sudo nano /etc/logrotate.d/wireguard
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è logrotate:**
```
/var/log/wireguard/*.log {
    daily
    rotate 7
    compress
    delaycompress
    missingok
    notifempty
}
```

### 5.2 DNS Leak Protection

**–ü—Ä–æ–±–ª–µ–º–∞:** DNS –∑–∞–ø—Ä–æ—Å—ã –º–æ–≥—É—Ç —É—Ç–µ–∫–∞—Ç—å –≤–Ω–µ VPN —Ç—É–Ω–Ω–µ–ª—è, —Ä–∞—Å–∫—Ä—ã–≤–∞—è —Ä–µ–∞–ª—å–Ω—ã–π IP.

#### –ú–µ—Ç–æ–¥ 1: –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ VPN DNS

**–í –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞:**
```ini
[Interface]
PrivateKey = <KEY>
Address = 10.0.0.2/32
# –£–∫–∞–∑—ã–≤–∞–µ–º –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ DNS
DNS = 1.1.1.1, 1.0.0.1

# –î–ª—è Windows: –±–ª–æ–∫–∏—Ä—É–µ–º –¥—Ä—É–≥–∏–µ DNS
PostUp = powershell -Command "Set-DnsClientServerAddress -InterfaceAlias 'WireGuard' -ServerAddresses ('1.1.1.1','1.0.0.1')"
```

**–î–ª—è Linux: –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ DNS —É—Ç–µ—á–µ–∫ —á–µ—Ä–µ–∑ iptables:**
```bash
# –î–æ–±–∞–≤–∏—Ç—å –≤ [Interface] –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
PostUp = iptables -t nat -A OUTPUT -p udp --dport 53 ! -o %i -j DNAT --to-destination 1.1.1.1:53
PostUp = iptables -t nat -A OUTPUT -p tcp --dport 53 ! -o %i -j DNAT --to-destination 1.1.1.1:53
PreDown = iptables -t nat -D OUTPUT -p udp --dport 53 ! -o %i -j DNAT --to-destination 1.1.1.1:53
PreDown = iptables -t nat -D OUTPUT -p tcp --dport 53 ! -o %i -j DNAT --to-destination 1.1.1.1:53
```

#### –ú–µ—Ç–æ–¥ 2: –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π DNS —Å–µ—Ä–≤–µ—Ä –Ω–∞ VPS

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Unbound (—Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π DNS):**
```bash
sudo apt install unbound -y

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
sudo nano /etc/unbound/unbound.conf.d/wireguard.conf
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Unbound:**
```yaml
server:
    interface: 10.0.0.1
    access-control: 10.0.0.0/24 allow
    verbosity: 1
    do-ip4: yes
    do-ip6: no
    do-udp: yes
    do-tcp: yes
    hide-identity: yes
    hide-version: yes
```

**–ó–∞–ø—É—Å–∫:**
```bash
sudo systemctl enable unbound
sudo systemctl start unbound
```

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ WireGuard –∫–ª–∏–µ–Ω—Ç–æ–≤:**
```ini
[Interface]
DNS = 10.0.0.1  # IP —Å–µ—Ä–≤–µ—Ä–∞ WireGuard
```

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ç–µ—á–µ–∫ DNS

**–û–Ω–ª–∞–π–Ω —Ç–µ—Å—Ç—ã:**
- https://dnsleaktest.com
- https://ipleak.net
- https://www.perfect-privacy.com/en/tests/dns-leaktest

**–ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞:**
```bash
# Linux/macOS
nslookup google.com
dig google.com

# –î–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å DNS —Å–µ—Ä–≤–µ—Ä –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞ (1.1.1.1 –∏–ª–∏ 10.0.0.1)
```

### 5.3 Kill Switch (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ —Ä–∞–∑—Ä—ã–≤–µ VPN)

**Kill Switch** –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤–µ—Å—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Ç—Ä–∞—Ñ–∏–∫, –µ—Å–ª–∏ VPN —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –æ–±—Ä—ã–≤–∞–µ—Ç—Å—è.

#### Linux Kill Switch

**–ú–µ—Ç–æ–¥ 1: –ß–µ—Ä–µ–∑ iptables (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
```ini
[Interface]
PrivateKey = <KEY>
Address = 10.0.0.2/32

# Kill Switch: –±–ª–æ–∫–∏—Ä—É–µ–º –≤–µ—Å—å —Ç—Ä–∞—Ñ–∏–∫ –∫—Ä–æ–º–µ VPN
PostUp = iptables -I OUTPUT ! -o %i -m mark ! --mark $(wg show %i fwmark) -m addrtype ! --dst-type LOCAL -j REJECT
PreDown = iptables -D OUTPUT ! -o %i -m mark ! --mark $(wg show %i fwmark) -m addrtype ! --dst-type LOCAL -j REJECT

[Peer]
PublicKey = <SERVER_KEY>
Endpoint = SERVER_IP:51820
AllowedIPs = 0.0.0.0/0
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- `! -o %i`: –¢—Ä–∞—Ñ–∏–∫ –ù–ï —á–µ—Ä–µ–∑ VPN –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- `! --mark $(wg show %i fwmark)`: –ò—Å–∫–ª—é—á–∞–µ–º —Ç—Ä–∞—Ñ–∏–∫ —Å–∞–º–æ–≥–æ WireGuard
- `! --dst-type LOCAL`: –õ–æ–∫–∞–ª—å–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω
- `-j REJECT`: –ë–ª–æ–∫–∏—Ä—É–µ–º –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ

**–ú–µ—Ç–æ–¥ 2: –ß–µ—Ä–µ–∑ UFW:**
```bash
# –ë–ª–æ–∫–∏—Ä—É–µ–º –≤–µ—Å—å –∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
sudo ufw default deny outgoing

# –†–∞–∑—Ä–µ—à–∞–µ–º —Ç–æ–ª—å–∫–æ VPN
sudo ufw allow out on wg0
sudo ufw allow out to SERVER_IP port 51820 proto udp

# –†–∞–∑—Ä–µ—à–∞–µ–º –ª–æ–∫–∞–ª—å–Ω—É—é —Å–µ—Ç—å
sudo ufw allow out to 192.168.0.0/16
```

#### Windows Kill Switch

**PowerShell —Å–∫—Ä–∏–ø—Ç –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
```ini
[Interface]
PrivateKey = <KEY>
Address = 10.0.0.2/32

# Kill Switch –¥–ª—è Windows
PostUp = powershell -Command "Set-NetFirewallProfile -All -DefaultOutboundAction Block; New-NetFirewallRule -DisplayName 'WireGuard Out' -Direction Outbound -Action Allow -Program 'C:\Program Files\WireGuard\wireguard.exe'; New-NetFirewallRule -DisplayName 'WireGuard Tunnel' -Direction Outbound -Action Allow -InterfaceAlias 'wg0'"

PreDown = powershell -Command "Set-NetFirewallProfile -All -DefaultOutboundAction Allow; Remove-NetFirewallRule -DisplayName 'WireGuard Out'; Remove-NetFirewallRule -DisplayName 'WireGuard Tunnel'"

[Peer]
PublicKey = <SERVER_KEY>
Endpoint = SERVER_IP:51820
AllowedIPs = 0.0.0.0/0
```

#### Android/iOS Kill Switch

**Android:**
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –°–µ—Ç—å ‚Üí VPN ‚Üí WireGuard
- ‚úÖ **Block connections without VPN**

**iOS:**
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí VPN ‚Üí WireGuard ‚Üí Connect On Demand
- ‚úÖ **Block all traffic when VPN is disconnected**

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ Kill Switch

**–¢–µ—Å—Ç:**
```bash
# –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ VPN
sudo wg-quick up wg0

# –ü—Ä–æ–≤–µ—Ä—è–µ–º IP (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å VPS)
curl ifconfig.me

# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º VPN
sudo wg-quick down wg0

# –ü—ã—Ç–∞–µ–º—Å—è –ø–æ–ª—É—á–∏—Ç—å IP (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞)
curl ifconfig.me
# –û–∂–∏–¥–∞–µ–º: timeout –∏–ª–∏ "no route to host"
```

### 5.4 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤

#### –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã

**–†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º `/etc/sysctl.conf`:**
```bash
sudo nano /etc/sysctl.conf
```

**–î–æ–±–∞–≤–ª—è–µ–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
```ini
# –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–æ–≤ —Å–µ—Ç–∏
net.core.rmem_max = 134217728
net.core.wmem_max = 134217728
net.ipv4.tcp_rmem = 4096 87380 67108864
net.ipv4.tcp_wmem = 4096 65536 67108864

# –£–≤–µ–ª–∏—á–µ–Ω–∏–µ backlog
net.core.netdev_max_backlog = 5000

# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è TCP
net.ipv4.tcp_congestion_control = bbr
net.core.default_qdisc = fq

# –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤
fs.file-max = 2097152

# –ë—ã—Å—Ç—Ä–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
net.ipv4.tcp_tw_reuse = 1
net.ipv4.tcp_fin_timeout = 15
```

**–ü—Ä–∏–º–µ–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
```bash
sudo sysctl -p
```

#### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è WireGuard MTU

**MTU (Maximum Transmission Unit)** –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
```ini
[Interface]
MTU = 1420  # –°—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è WireGuard (1500 - 80)
```

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ MTU:**
```bash
# –¢–µ—Å—Ç –ø–∞–∫–µ—Ç–æ–≤ (Linux)
ping -M do -s 1472 google.com

# –ï—Å–ª–∏ –ø–∞–∫–µ—Ç—ã —Ç–µ—Ä—è—é—Ç—Å—è, —É–º–µ–Ω—å—à–∞–π—Ç–µ:
ping -M do -s 1400 google.com
ping -M do -s 1350 google.com
```

**–§–æ—Ä–º—É–ª–∞:**
```
MTU = —Ä–∞–∑–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–∏–Ω–≥–∞ + 28
–ù–∞–ø—Ä–∏–º–µ—Ä: 1392 (–ø–∏–Ω–≥) + 28 = 1420
```

#### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞–≥—Ä—É–∑–∫–∏

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:**
```bash
sudo apt install htop iftop nethogs -y
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏:**
```bash
# CPU –∏ –ø–∞–º—è—Ç—å
htop

# –°–µ—Ç–µ–≤–æ–π —Ç—Ä–∞—Ñ–∏–∫ –ø–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º
sudo iftop -i wg0

# –¢—Ä–∞—Ñ–∏–∫ –ø–æ –ø—Ä–æ—Ü–µ—Å—Å–∞–º
sudo nethogs wg0
```

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ tc (traffic control)
sudo apt install iproute2 -y

# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ 10 Mbps –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞ 10.0.0.2
sudo tc qdisc add dev wg0 root handle 1: htb default 12
sudo tc class add dev wg0 parent 1: classid 1:1 htb rate 10mbit
sudo tc filter add dev wg0 protocol ip parent 1:0 prio 1 u32 match ip dst 10.0.0.2 flowid 1:1
```

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤

**–°–∫—Ä–∏–ø—Ç –º–∞—Å—Å–æ–≤–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤:**
```bash
#!/bin/bash
# add-wireguard-client.sh

SERVER_PUBLIC_KEY=$(cat /etc/wireguard/server_public.key)
SERVER_IP="YOUR_SERVER_IP"
NEXT_IP=2

for i in {1..100}; do
    CLIENT_NAME="client${i}"
    CLIENT_IP="10.0.0.${NEXT_IP}"

    # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π
    wg genkey | tee /etc/wireguard/clients/${CLIENT_NAME}_private.key | wg pubkey > /etc/wireguard/clients/${CLIENT_NAME}_public.key

    CLIENT_PRIVATE=$(cat /etc/wireguard/clients/${CLIENT_NAME}_private.key)
    CLIENT_PUBLIC=$(cat /etc/wireguard/clients/${CLIENT_NAME}_public.key)

    # –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞
    cat > /etc/wireguard/clients/${CLIENT_NAME}.conf <<EOF
[Interface]
PrivateKey = ${CLIENT_PRIVATE}
Address = ${CLIENT_IP}/32
DNS = 1.1.1.1

[Peer]
PublicKey = ${SERVER_PUBLIC_KEY}
Endpoint = ${SERVER_IP}:51820
AllowedIPs = 0.0.0.0/0
PersistentKeepalive = 25
EOF

    # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ peer –Ω–∞ —Å–µ—Ä–≤–µ—Ä
    sudo wg set wg0 peer ${CLIENT_PUBLIC} allowed-ips ${CLIENT_IP}/32

    # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR –∫–æ–¥–∞
    qrencode -t ansiutf8 < /etc/wireguard/clients/${CLIENT_NAME}.conf > /etc/wireguard/clients/${CLIENT_NAME}_qr.txt

    echo "–°–æ–∑–¥–∞–Ω –∫–ª–∏–µ–Ω—Ç ${CLIENT_NAME} —Å IP ${CLIENT_IP}"

    ((NEXT_IP++))
done

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞
sudo wg-quick save wg0
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
chmod +x add-wireguard-client.sh
sudo ./add-wireguard-client.sh
```

---

## 6. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### 6.1 –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∫–ª–∏–µ–Ω—Ç–æ–≤

**–£–ª—É—á—à–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º –º–µ–Ω—é:**

```bash
#!/bin/bash
# wireguard-manager.sh

CONFIG_DIR="/etc/wireguard"
CLIENTS_DIR="${CONFIG_DIR}/clients"
SERVER_CONFIG="${CONFIG_DIR}/wg0.conf"

# –¶–≤–µ—Ç–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m' # No Color

# –§—É–Ω–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞
add_client() {
    echo -e "${GREEN}=== –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ ===${NC}"

    # –ü–æ–ª—É—á–∞–µ–º –∏–º—è –∫–ª–∏–µ–Ω—Ç–∞
    read -p "–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∫–ª–∏–µ–Ω—Ç–∞: " CLIENT_NAME

    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è
    if [ -f "${CLIENTS_DIR}/${CLIENT_NAME}.conf" ]; then
        echo -e "${RED}–ö–ª–∏–µ–Ω—Ç ${CLIENT_NAME} —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç!${NC}"
        return 1
    fi

    # –ü–æ–ª—É—á–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π —Å–≤–æ–±–æ–¥–Ω—ã–π IP
    LAST_IP=$(grep "AllowedIPs" ${SERVER_CONFIG} | tail -1 | awk '{print $3}' | cut -d'.' -f4 | cut -d'/' -f1)
    NEXT_IP=$((LAST_IP + 1))
    CLIENT_IP="10.0.0.${NEXT_IP}"

    # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π
    mkdir -p ${CLIENTS_DIR}
    wg genkey | tee ${CLIENTS_DIR}/${CLIENT_NAME}_private.key | wg pubkey > ${CLIENTS_DIR}/${CLIENT_NAME}_public.key
    chmod 600 ${CLIENTS_DIR}/${CLIENT_NAME}_private.key

    CLIENT_PRIVATE=$(cat ${CLIENTS_DIR}/${CLIENT_NAME}_private.key)
    CLIENT_PUBLIC=$(cat ${CLIENTS_DIR}/${CLIENT_NAME}_public.key)
    SERVER_PUBLIC=$(cat ${CONFIG_DIR}/server_public.key)

    # –ü–æ–ª—É—á–∞–µ–º –ø—É–±–ª–∏—á–Ω—ã–π IP —Å–µ—Ä–≤–µ—Ä–∞
    SERVER_IP=$(curl -s ifconfig.me)

    # –í—ã–±–æ—Ä DNS
    echo "–í—ã–±–µ—Ä–∏—Ç–µ DNS —Å–µ—Ä–≤–µ—Ä:"
    echo "1) Cloudflare (1.1.1.1)"
    echo "2) Google (8.8.8.8)"
    echo "3) Quad9 (9.9.9.9)"
    echo "4) –õ–æ–∫–∞–ª—å–Ω—ã–π (10.0.0.1)"
    read -p "–í—ã–±–æ—Ä [1-4]: " DNS_CHOICE

    case $DNS_CHOICE in
        1) DNS_SERVER="1.1.1.1, 1.0.0.1";;
        2) DNS_SERVER="8.8.8.8, 8.8.4.4";;
        3) DNS_SERVER="9.9.9.9";;
        4) DNS_SERVER="10.0.0.1";;
        *) DNS_SERVER="1.1.1.1";;
    esac

    # –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞
    cat > ${CLIENTS_DIR}/${CLIENT_NAME}.conf <<EOF
[Interface]
PrivateKey = ${CLIENT_PRIVATE}
Address = ${CLIENT_IP}/32
DNS = ${DNS_SERVER}

[Peer]
PublicKey = ${SERVER_PUBLIC}
Endpoint = ${SERVER_IP}:51820
AllowedIPs = 0.0.0.0/0, ::/0
PersistentKeepalive = 25
EOF

    # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ peer –Ω–∞ —Å–µ—Ä–≤–µ—Ä
    wg set wg0 peer ${CLIENT_PUBLIC} allowed-ips ${CLIENT_IP}/32

    # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
    cat >> ${SERVER_CONFIG} <<EOF

[Peer]
# Client: ${CLIENT_NAME}
PublicKey = ${CLIENT_PUBLIC}
AllowedIPs = ${CLIENT_IP}/32
EOF

    # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR –∫–æ–¥–∞
    echo -e "${GREEN}QR –∫–æ–¥ –¥–ª—è ${CLIENT_NAME}:${NC}"
    qrencode -t ansiutf8 < ${CLIENTS_DIR}/${CLIENT_NAME}.conf

    # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ QR –≤ —Ñ–∞–π–ª
    qrencode -t png -o ${CLIENTS_DIR}/${CLIENT_NAME}_qr.png < ${CLIENTS_DIR}/${CLIENT_NAME}.conf

    echo -e "${GREEN}‚úì –ö–ª–∏–µ–Ω—Ç ${CLIENT_NAME} —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!${NC}"
    echo -e "  IP: ${CLIENT_IP}"
    echo -e "  –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: ${CLIENTS_DIR}/${CLIENT_NAME}.conf"
    echo -e "  QR –∫–æ–¥: ${CLIENTS_DIR}/${CLIENT_NAME}_qr.png"
}

# –§—É–Ω–∫—Ü–∏—è —É–¥–∞–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞
remove_client() {
    echo -e "${YELLOW}=== –£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ ===${NC}"

    # –°–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤
    echo "–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–ª–∏–µ–Ω—Ç—ã:"
    ls -1 ${CLIENTS_DIR}/*.conf 2>/dev/null | sed 's|.*/||; s|\.conf||' | nl

    read -p "–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∫–ª–∏–µ–Ω—Ç–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è: " CLIENT_NAME

    if [ ! -f "${CLIENTS_DIR}/${CLIENT_NAME}.conf" ]; then
        echo -e "${RED}–ö–ª–∏–µ–Ω—Ç ${CLIENT_NAME} –Ω–µ –Ω–∞–π–¥–µ–Ω!${NC}"
        return 1
    fi

    # –ü–æ–ª—É—á–∞–µ–º –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –∫–ª–∏–µ–Ω—Ç–∞
    CLIENT_PUBLIC=$(cat ${CLIENTS_DIR}/${CLIENT_NAME}_public.key)

    # –£–¥–∞–ª—è–µ–º peer —Å —Å–µ—Ä–≤–µ—Ä–∞
    wg set wg0 peer ${CLIENT_PUBLIC} remove

    # –£–¥–∞–ª—è–µ–º –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
    sed -i "/# Client: ${CLIENT_NAME}/,+2d" ${SERVER_CONFIG}

    # –£–¥–∞–ª—è–µ–º —Ñ–∞–π–ª—ã –∫–ª–∏–µ–Ω—Ç–∞
    rm -f ${CLIENTS_DIR}/${CLIENT_NAME}*

    echo -e "${GREEN}‚úì –ö–ª–∏–µ–Ω—Ç ${CLIENT_NAME} —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω!${NC}"
}

# –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
show_connections() {
    echo -e "${GREEN}=== –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è ===${NC}"
    wg show wg0
}

# –§—É–Ω–∫—Ü–∏—è —Å–ø–∏—Å–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤
list_clients() {
    echo -e "${GREEN}=== –°–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤ ===${NC}"

    if [ ! -d "${CLIENTS_DIR}" ] || [ -z "$(ls -A ${CLIENTS_DIR}/*.conf 2>/dev/null)" ]; then
        echo "–ù–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤"
        return
    fi

    echo "----------------------------------------"
    for conf in ${CLIENTS_DIR}/*.conf; do
        CLIENT_NAME=$(basename ${conf} .conf)
        CLIENT_IP=$(grep "Address" ${conf} | awk '{print $3}')
        echo "üì± ${CLIENT_NAME}"
        echo "   IP: ${CLIENT_IP}"
        echo "   –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: ${conf}"
        echo "----------------------------------------"
    done
}

# –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ QR –∫–æ–¥–∞
show_qr() {
    read -p "–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∫–ª–∏–µ–Ω—Ç–∞: " CLIENT_NAME

    if [ ! -f "${CLIENTS_DIR}/${CLIENT_NAME}.conf" ]; then
        echo -e "${RED}–ö–ª–∏–µ–Ω—Ç ${CLIENT_NAME} –Ω–µ –Ω–∞–π–¥–µ–Ω!${NC}"
        return 1
    fi

    echo -e "${GREEN}QR –∫–æ–¥ –¥–ª—è ${CLIENT_NAME}:${NC}"
    qrencode -t ansiutf8 < ${CLIENTS_DIR}/${CLIENT_NAME}.conf
}

# –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
main_menu() {
    while true; do
        echo ""
        echo -e "${GREEN}‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó${NC}"
        echo -e "${GREEN}‚ïë   WireGuard Manager v1.0           ‚ïë${NC}"
        echo -e "${GREEN}‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù${NC}"
        echo "1) –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞"
        echo "2) –£–¥–∞–ª–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞"
        echo "3) –°–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤"
        echo "4) –ü–æ–∫–∞–∑–∞—Ç—å QR –∫–æ–¥"
        echo "5) –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è"
        echo "6) –í—ã—Ö–æ–¥"
        echo ""
        read -p "–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ [1-6]: " choice

        case $choice in
            1) add_client;;
            2) remove_client;;
            3) list_clients;;
            4) show_qr;;
            5) show_connections;;
            6) exit 0;;
            *) echo -e "${RED}–ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä!${NC}";;
        esac
    done
}

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ root
if [ "$EUID" -ne 0 ]; then
    echo -e "${RED}–°–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è —Å –ø—Ä–∞–≤–∞–º–∏ root${NC}"
    exit 1
fi

# –ó–∞–ø—É—Å–∫ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
main_menu
```

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
# –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–∫—Ä–∏–ø—Ç
sudo nano /usr/local/bin/wireguard-manager.sh

# –î–∞–µ–º –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
sudo chmod +x /usr/local/bin/wireguard-manager.sh

# –ó–∞–ø—É—Å–∫–∞–µ–º
sudo wireguard-manager.sh
```

### 6.2 WG-Easy (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

**WG-Easy** ‚Äî –ø—Ä–æ—Å—Ç–æ–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è WireGuard —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π QR –∫–æ–¥–æ–≤.

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Docker

```bash
# –°–æ–∑–¥–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
mkdir -p /opt/wg-easy

# –ó–∞–ø—É—Å–∫–∞–µ–º WG-Easy
docker run -d \
  --name=wg-easy \
  --cap-add=NET_ADMIN \
  --cap-add=SYS_MODULE \
  --sysctl="net.ipv4.conf.all.src_valid_mark=1" \
  --sysctl="net.ipv4.ip_forward=1" \
  -e WG_HOST=YOUR_SERVER_IP \
  -e PASSWORD=your_admin_password \
  -e WG_DEFAULT_DNS=1.1.1.1 \
  -v /opt/wg-easy:/etc/wireguard \
  -p 51820:51820/udp \
  -p 51821:51821/tcp \
  --restart unless-stopped \
  ghcr.io/wg-easy/wg-easy
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `WG_HOST`: –ü—É–±–ª–∏—á–Ω—ã–π IP –∏–ª–∏ –¥–æ–º–µ–Ω –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- `PASSWORD`: –ü–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- `WG_DEFAULT_DNS`: DNS –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
- –ü–æ—Ä—Ç `51820/udp`: WireGuard VPN
- –ü–æ—Ä—Ç `51821/tcp`: –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

**–î–æ—Å—Ç—É–ø –∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É:**
```
http://YOUR_SERVER_IP:51821
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ WG-Easy:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ –≤–µ–±
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è QR –∫–æ–¥–æ–≤
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π (Tx/Rx)
- ‚úÖ –ì—Ä–∞—Ñ–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞
- ‚úÖ –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π `.conf`

#### Docker Compose –¥–ª—è WG-Easy

**–°–æ–∑–¥–∞–µ–º `docker-compose.yml`:**
```yaml
version: '3'

services:
  wg-easy:
    image: ghcr.io/wg-easy/wg-easy
    container_name: wg-easy
    cap_add:
      - NET_ADMIN
      - SYS_MODULE
    sysctls:
      - net.ipv4.conf.all.src_valid_mark=1
      - net.ipv4.ip_forward=1
    environment:
      - WG_HOST=YOUR_SERVER_IP
      - PASSWORD=your_strong_password
      - WG_DEFAULT_DNS=1.1.1.1,1.0.0.1
      - WG_ALLOWED_IPS=0.0.0.0/0,::/0
      - WG_PERSISTENT_KEEPALIVE=25
      - WG_DEFAULT_ADDRESS=10.8.0.x
      - WG_MTU=1420
    volumes:
      - /opt/wg-easy:/etc/wireguard
    ports:
      - "51820:51820/udp"
      - "51821:51821/tcp"
    restart: unless-stopped
```

**–ó–∞–ø—É—Å–∫:**
```bash
cd /opt/wg-easy
docker-compose up -d
```

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ:**
```bash
docker-compose pull
docker-compose up -d
```

### 6.3 WireGuard-UI (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ WG-Easy)

**WireGuard-UI** ‚Äî –µ—â–µ –æ–¥–∏–Ω –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏.

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Docker

```bash
docker run -d \
  --name=wireguard-ui \
  --cap-add=NET_ADMIN \
  --cap-add=SYS_MODULE \
  -e WGUI_USERNAME=admin \
  -e WGUI_PASSWORD=admin \
  -e WGUI_ENDPOINT_ADDRESS=YOUR_SERVER_IP \
  -e WGUI_DNS=1.1.1.1 \
  -e WGUI_MANAGE_START=true \
  -e WGUI_MANAGE_RESTART=true \
  -v /etc/wireguard:/etc/wireguard \
  -v /opt/wireguard-ui-db:/app/db \
  -p 51820:51820/udp \
  -p 5000:5000/tcp \
  --restart unless-stopped \
  ngoduykhanh/wireguard-ui:latest
```

**–î–æ—Å—Ç—É–ø:**
```
http://YOUR_SERVER_IP:5000
–õ–æ–≥–∏–Ω: admin
–ü–∞—Ä–æ–ª—å: admin (—Å–º–µ–Ω–∏—Ç—å –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞!)
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–æ–º –∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –≥—Ä–∞—Ñ–∏–∫–∏
- –≠–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- QR –∫–æ–¥—ã
- Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### 6.4 –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

#### –ü—Ä–æ—Å—Ç–æ–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ CLI

**–°–∫—Ä–∏–ø—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (`wg-monitor.sh`):**
```bash
#!/bin/bash

# –¶–≤–µ—Ç–∞
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m'

while true; do
    clear
    echo -e "${GREEN}‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó${NC}"
    echo -e "${GREEN}‚ïë         WireGuard Live Monitor                         ‚ïë${NC}"
    echo -e "${GREEN}‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù${NC}"
    echo ""

    # –°—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
    echo -e "${YELLOW}[–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å]${NC}"
    ip addr show wg0 | grep -E "inet|UP"
    echo ""

    # –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
    echo -e "${YELLOW}[–ê–∫—Ç–∏–≤–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã]${NC}"
    wg show wg0 | grep -A 3 "peer:"
    echo ""

    # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    echo -e "${YELLOW}[–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞]${NC}"
    PEERS=$(wg show wg0 peers | wc -l)
    echo "–í—Å–µ–≥–æ –∫–ª–∏–µ–Ω—Ç–æ–≤: $PEERS"

    ACTIVE=$(wg show wg0 latest-handshakes | awk '$2 > 0' | wc -l)
    echo "–ê–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π: $ACTIVE"
    echo ""

    # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
    sleep 5
done
```

**–ó–∞–ø—É—Å–∫:**
```bash
chmod +x wg-monitor.sh
sudo ./wg-monitor.sh
```

#### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å Prometheus + Grafana

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Prometheus WireGuard Exporter:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ exporter
git clone https://github.com/MindFlavor/prometheus_wireguard_exporter.git
cd prometheus_wireguard_exporter
cargo build --release

# –ó–∞–ø—É—Å–∫
./target/release/prometheus_wireguard_exporter -p 9586
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Prometheus:**
```yaml
scrape_configs:
  - job_name: 'wireguard'
    static_configs:
      - targets: ['localhost:9586']
```

**–î–∞—à–±–æ—Ä–¥ Grafana:**
- Import dashboard ID: 10177
- –ú–µ—Ç—Ä–∏–∫–∏: bandwidth, active peers, handshakes

---

## 7. –ì–æ—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### 7.1 –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å)

**–°–∫—Ä–∏–ø—Ç –ø–æ–ª–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ WireGuard –Ω–∞ Ubuntu/Debian:**

```bash
#!/bin/bash
# –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ WireGuard —Å–µ—Ä–≤–µ—Ä–∞

set -e

# –¶–≤–µ—Ç–∞
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m'

echo -e "${GREEN}‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó${NC}"
echo -e "${GREEN}‚ïë  WireGuard Quick Install Script      ‚ïë${NC}"
echo -e "${GREEN}‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù${NC}"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ root
if [ "$EUID" -ne 0 ]; then
    echo -e "${RED}–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —Å –ø—Ä–∞–≤–∞–º–∏ root${NC}"
    exit 1
fi

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
echo -e "${YELLOW}[1/10] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã...${NC}"
apt update && apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ WireGuard
echo -e "${YELLOW}[2/10] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ WireGuard...${NC}"
apt install wireguard qrencode iptables-persistent -y

# –í–∫–ª—é—á–µ–Ω–∏–µ IP forwarding
echo -e "${YELLOW}[3/10] –í–∫–ª—é—á–µ–Ω–∏–µ IP forwarding...${NC}"
sysctl -w net.ipv4.ip_forward=1
sysctl -w net.ipv6.conf.all.forwarding=1
echo "net.ipv4.ip_forward=1" >> /etc/sysctl.conf
echo "net.ipv6.conf.all.forwarding=1" >> /etc/sysctl.conf

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π —Å–µ—Ä–≤–µ—Ä–∞
echo -e "${YELLOW}[4/10] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π —Å–µ—Ä–≤–µ—Ä–∞...${NC}"
cd /etc/wireguard
wg genkey | tee server_private.key | wg pubkey > server_public.key
chmod 600 server_private.key

SERVER_PRIVATE=$(cat server_private.key)
SERVER_PUBLIC=$(cat server_public.key)

# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–µ—Ç–µ–≤–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
INTERFACE=$(ip route | grep default | awk '{print $5}')
echo -e "–û–±–Ω–∞—Ä—É–∂–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: ${GREEN}${INTERFACE}${NC}"

# –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—É–±–ª–∏—á–Ω–æ–≥–æ IP
SERVER_IP=$(curl -s ifconfig.me)
echo -e "–ü—É–±–ª–∏—á–Ω—ã–π IP —Å–µ—Ä–≤–µ—Ä–∞: ${GREEN}${SERVER_IP}${NC}"

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞
echo -e "${YELLOW}[5/10] –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞...${NC}"
cat > /etc/wireguard/wg0.conf <<EOF
[Interface]
PrivateKey = ${SERVER_PRIVATE}
Address = 10.0.0.1/24
ListenPort = 51820
PostUp = iptables -A FORWARD -i wg0 -j ACCEPT
PostUp = iptables -A FORWARD -o wg0 -j ACCEPT
PostUp = iptables -t nat -A POSTROUTING -o ${INTERFACE} -j MASQUERADE
PostDown = iptables -D FORWARD -i wg0 -j ACCEPT
PostDown = iptables -D FORWARD -o wg0 -j ACCEPT
PostDown = iptables -t nat -D POSTROUTING -o ${INTERFACE} -j MASQUERADE
EOF

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ UFW
echo -e "${YELLOW}[6/10] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ firewall...${NC}"
ufw allow 22/tcp
ufw allow 51820/udp
ufw --force enable

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
echo -e "${YELLOW}[7/10] –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞...${NC}"
mkdir -p /etc/wireguard/clients

wg genkey | tee /etc/wireguard/clients/client1_private.key | wg pubkey > /etc/wireguard/clients/client1_public.key
chmod 600 /etc/wireguard/clients/client1_private.key

CLIENT1_PRIVATE=$(cat /etc/wireguard/clients/client1_private.key)
CLIENT1_PUBLIC=$(cat /etc/wireguard/clients/client1_public.key)

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞
cat > /etc/wireguard/clients/client1.conf <<EOF
[Interface]
PrivateKey = ${CLIENT1_PRIVATE}
Address = 10.0.0.2/32
DNS = 1.1.1.1, 1.0.0.1

[Peer]
PublicKey = ${SERVER_PUBLIC}
Endpoint = ${SERVER_IP}:51820
AllowedIPs = 0.0.0.0/0, ::/0
PersistentKeepalive = 25
EOF

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
cat >> /etc/wireguard/wg0.conf <<EOF

[Peer]
# Client: client1
PublicKey = ${CLIENT1_PUBLIC}
AllowedIPs = 10.0.0.2/32
EOF

# –ó–∞–ø—É—Å–∫ WireGuard
echo -e "${YELLOW}[8/10] –ó–∞–ø—É—Å–∫ WireGuard...${NC}"
systemctl enable wg-quick@wg0
systemctl start wg-quick@wg0

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR –∫–æ–¥–∞
echo -e "${YELLOW}[9/10] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR –∫–æ–¥–∞ –¥–ª—è client1...${NC}"
qrencode -t ansiutf8 < /etc/wireguard/clients/client1.conf > /etc/wireguard/clients/client1_qr.txt

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
echo -e "${YELLOW}[10/10] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞...${NC}"
wg show

echo ""
echo -e "${GREEN}‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó${NC}"
echo -e "${GREEN}‚ïë           –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!                ‚ïë${NC}"
echo -e "${GREEN}‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù${NC}"
echo ""
echo -e "${YELLOW}–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ:${NC}"
echo -e "  –ü—É–±–ª–∏—á–Ω—ã–π IP: ${GREEN}${SERVER_IP}${NC}"
echo -e "  –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å: ${GREEN}${INTERFACE}${NC}"
echo -e "  –ü–æ—Ä—Ç: ${GREEN}51820/udp${NC}"
echo ""
echo -e "${YELLOW}–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞:${NC}"
echo -e "  –§–∞–π–ª: ${GREEN}/etc/wireguard/clients/client1.conf${NC}"
echo -e "  QR –∫–æ–¥: ${GREEN}/etc/wireguard/clients/client1_qr.txt${NC}"
echo ""
echo -e "${YELLOW}QR –∫–æ–¥ –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:${NC}"
cat /etc/wireguard/clients/client1_qr.txt
echo ""
echo -e "${YELLOW}–ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:${NC}"
echo -e "  –°—Ç–∞—Ç—É—Å: ${GREEN}wg show${NC}"
echo -e "  –û—Å—Ç–∞–Ω–æ–≤–∫–∞: ${GREEN}systemctl stop wg-quick@wg0${NC}"
echo -e "  –ó–∞–ø—É—Å–∫: ${GREEN}systemctl start wg-quick@wg0${NC}"
echo -e "  –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫: ${GREEN}systemctl restart wg-quick@wg0${NC}"
echo ""
echo -e "${GREEN}–ì–æ—Ç–æ–≤–æ! –ü–æ–¥–∫–ª—é—á–∞–π—Ç–µ—Å—å –∫ VPN.${NC}"
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
# –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–∫—Ä–∏–ø—Ç
wget https://your-server.com/wireguard-quick-install.sh

# –î–∞–µ–º –ø—Ä–∞–≤–∞
chmod +x wireguard-quick-install.sh

# –ó–∞–ø—É—Å–∫–∞–µ–º
sudo ./wireguard-quick-install.sh
```

### 7.2 –ì–æ—Ç–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞ (—Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏)

```ini
# /etc/wireguard/wg0.conf
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è WireGuard —Å–µ—Ä–≤–µ—Ä–∞

[Interface]
# –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á —Å–µ—Ä–≤–µ—Ä–∞ (—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å: wg genkey)
PrivateKey = –í–ê–Ü–®_SERVER_PRIVATE_KEY

# –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ –≤–Ω—É—Ç—Ä–∏ VPN
Address = 10.0.0.1/24

# –ü–æ—Ä—Ç –¥–ª—è –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 51820)
# –î–ª—è –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: 53, 443, 80
ListenPort = 51820

# MTU (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)
# MTU = 1420

# DNS –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Pi-hole –∏–ª–∏ Unbound –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
# DNS = 10.0.0.1

# –ö–æ–º–∞–Ω–¥—ã, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–µ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
# –†–∞–∑—Ä–µ—à–∞–µ–º —Ñ–æ—Ä–≤–∞—Ä–¥–∏–Ω–≥ –ø–∞–∫–µ—Ç–æ–≤
PostUp = iptables -A FORWARD -i wg0 -j ACCEPT
PostUp = iptables -A FORWARD -o wg0 -j ACCEPT

# NAT: –ø–æ–¥–º–µ–Ω—è–µ–º IP –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–∞ IP —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç
# –í–ê–ñ–ù–û: –ó–∞–º–µ–Ω–∏—Ç–µ eth0 –Ω–∞ –≤–∞—à —Å–µ—Ç–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—É–∑–Ω–∞—Ç—å: ip route | grep default)
PostUp = iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE

# –ö–æ–º–∞–Ω–¥—ã, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–µ –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (–æ—á–∏—Å—Ç–∫–∞ –ø—Ä–∞–≤–∏–ª)
PostDown = iptables -D FORWARD -i wg0 -j ACCEPT
PostDown = iptables -D FORWARD -o wg0 -j ACCEPT
PostDown = iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE

# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
# –ö–õ–ò–ï–ù–¢–´ (–¥–æ–±–∞–≤–ª—è–π—Ç–µ —Å–µ–∫—Ü–∏—é [Peer] –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞)
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

[Peer]
# –ò–º—è –∫–ª–∏–µ–Ω—Ç–∞ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ (–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π)
# Client: Laptop_Windows

# –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –∫–ª–∏–µ–Ω—Ç–∞ (–ø–æ–ª—É—á–∏—Ç—å –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞)
PublicKey = CLIENT1_PUBLIC_KEY

# –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ IP –∞–¥—Ä–µ—Å–∞ –¥–ª—è —ç—Ç–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
# /32 = –æ–¥–∏–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π IP
AllowedIPs = 10.0.0.2/32

# PersistentKeepalive (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –∑–∞ NAT)
# PersistentKeepalive = 25

[Peer]
# Client: Phone_Android
PublicKey = CLIENT2_PUBLIC_KEY
AllowedIPs = 10.0.0.3/32

[Peer]
# Client: Tablet_iOS
PublicKey = CLIENT3_PUBLIC_KEY
AllowedIPs = 10.0.0.4/32

# –î–æ–±–∞–≤–ª—è–π—Ç–µ –±–æ–ª—å—à–µ [Peer] —Å–µ–∫—Ü–∏–π –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
```

### 7.3 –ì–æ—Ç–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞ (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è)

```ini
# WireGuard Client Configuration
# –ò–º—è –∫–ª–∏–µ–Ω—Ç–∞: client1
# IP: 10.0.0.2

[Interface]
# –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –∫–ª–∏–µ–Ω—Ç–∞ (–¥–µ—Ä–∂–∏—Ç–µ –≤ —Å–µ–∫—Ä–µ—Ç–µ!)
PrivateKey = YOUR_CLIENT_PRIVATE_KEY

# IP –∞–¥—Ä–µ—Å –∫–ª–∏–µ–Ω—Ç–∞ –≤–Ω—É—Ç—Ä–∏ VPN
Address = 10.0.0.2/32

# DNS —Å–µ—Ä–≤–µ—Ä—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç —É—Ç–µ—á–µ–∫)
# Cloudflare DNS:
DNS = 1.1.1.1, 1.0.0.1
# –ò–ª–∏ Google DNS:
# DNS = 8.8.8.8, 8.8.4.4
# –ò–ª–∏ DNS —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ VPN —Å–µ—Ä–≤–µ—Ä–µ:
# DNS = 10.0.0.1

# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
# –û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

# Kill Switch –¥–ª—è Linux (—Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
# PostUp = iptables -I OUTPUT ! -o %i -m mark ! --mark $(wg show %i fwmark) -m addrtype ! --dst-type LOCAL -j REJECT
# PreDown = iptables -D OUTPUT ! -o %i -m mark ! --mark $(wg show %i fwmark) -m addrtype ! --dst-type LOCAL -j REJECT

# Kill Switch –¥–ª—è Windows (—Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
# PostUp = powershell -Command "Set-NetFirewallProfile -All -DefaultOutboundAction Block"
# PreDown = powershell -Command "Set-NetFirewallProfile -All -DefaultOutboundAction Allow"

# –ó–∞—â–∏—Ç–∞ –æ—Ç DNS —É—Ç–µ—á–µ–∫ (Linux)
# PostUp = iptables -t nat -A OUTPUT -p udp --dport 53 ! -o %i -j DNAT --to-destination 1.1.1.1:53
# PreDown = iptables -t nat -D OUTPUT -p udp --dport 53 ! -o %i -j DNAT --to-destination 1.1.1.1:53

[Peer]
# –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á —Å–µ—Ä–≤–µ—Ä–∞
PublicKey = SERVER_PUBLIC_KEY

# –ê–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ (IP –∏–ª–∏ –¥–æ–º–µ–Ω) –∏ –ø–æ—Ä—Ç
Endpoint = YOUR_SERVER_IP:51820

# –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è:
# 0.0.0.0/0, ::/0 = –≤–µ—Å—å —Ç—Ä–∞—Ñ–∏–∫ —á–µ—Ä–µ–∑ VPN
AllowedIPs = 0.0.0.0/0, ::/0

# –î–ª—è split-tunneling (—Ç–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Å–∞–π—Ç—ã —á–µ—Ä–µ–∑ VPN):
# AllowedIPs = 10.0.0.0/24, 192.168.1.0/24

# PersistentKeepalive - –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ –∫–∞–∂–¥—ã–µ N —Å–µ–∫—É–Ω–¥
# –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –∑–∞ NAT –∏ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
# 25 —Å–µ–∫—É–Ω–¥ = —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
PersistentKeepalive = 25
```

### 7.4 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å AmneziaWG (–¥–ª—è –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –†–§)

**–°–µ—Ä–≤–µ—Ä–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```ini
[Interface]
PrivateKey = SERVER_PRIVATE_KEY
Address = 10.0.0.1/24
ListenPort = 51820

# ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
# ‚ïë  –ü–ê–†–ê–ú–ï–¢–†–´ –û–ë–§–£–°–ö–ê–¶–ò–ò –î–õ–Ø –û–ë–•–û–î–ê DPI –í –†–û–°–°–ò–ò         ‚ïë
# ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

# Junk packet count: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º—É—Å–æ—Ä–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
Jc = 3

# –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –º—É—Å–æ—Ä–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
Jmin = 50
Jmax = 1000

# –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
S1 = 0
S2 = 0

# –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è handshake (–º–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–¥ –¥—Ä—É–≥–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã)
H1 = 1
H2 = 2
H3 = 3
H4 = 4

# NAT –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
PostUp = iptables -A FORWARD -i awg0 -j ACCEPT
PostUp = iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
PostDown = iptables -D FORWARD -i awg0 -j ACCEPT
PostDown = iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE

[Peer]
PublicKey = CLIENT_PUBLIC_KEY
AllowedIPs = 10.0.0.2/32
```

**–ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (AmneziaWG):**
```ini
[Interface]
PrivateKey = CLIENT_PRIVATE_KEY
Address = 10.0.0.2/32
DNS = 1.1.1.1

# –ö–†–ò–¢–ò–ß–ù–û: –¢–µ –∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—Ñ—É—Å–∫–∞—Ü–∏–∏, —á—Ç–æ –∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ!
Jc = 3
Jmin = 50
Jmax = 1000
S1 = 0
S2 = 0
H1 = 1
H2 = 2
H3 = 3
H4 = 4

[Peer]
PublicKey = SERVER_PUBLIC_KEY
Endpoint = YOUR_SERVER_IP:51820
AllowedIPs = 0.0.0.0/0, ::/0
PersistentKeepalive = 25
```

### 7.5 –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (—à–ø–∞—Ä–≥–∞–ª–∫–∞)

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–æ–º

```bash
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
# –ó–ê–ü–£–°–ö/–û–°–¢–ê–ù–û–í–ö–ê
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

# –ó–∞–ø—É—Å—Ç–∏—Ç—å WireGuard
sudo wg-quick up wg0

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å WireGuard
sudo wg-quick down wg0

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
sudo systemctl restart wg-quick@wg0

# –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
sudo systemctl enable wg-quick@wg0

# –û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
sudo systemctl disable wg-quick@wg0

# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
# –ú–û–ù–ò–¢–û–†–ò–ù–ì
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

# –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
sudo wg show

# –ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å wg0
sudo wg show wg0

# –ü–æ–∫–∞–∑–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–µ –∫–ª—é—á–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤
sudo wg show wg0 peers

# –ü–æ–∫–∞–∑–∞—Ç—å –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ handshake
sudo wg show wg0 latest-handshakes

# –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ç—Ä–∞—Ñ–∏–∫–∞
sudo wg show wg0 transfer

# –ü–æ–∫–∞–∑–∞—Ç—å endpoint –∞–¥—Ä–µ—Å–∞
sudo wg show wg0 endpoints

# –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã)
watch -n 2 'sudo wg show'

# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
# –£–ü–†–ê–í–õ–ï–ù–ò–ï –ö–õ–ò–ï–ù–¢–ê–ú–ò
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

# –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ peer (–≤—Ä–µ–º–µ–Ω–Ω–æ, –¥–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏)
sudo wg set wg0 peer CLIENT_PUBLIC_KEY allowed-ips 10.0.0.5/32

# –£–¥–∞–ª–∏—Ç—å peer
sudo wg set wg0 peer CLIENT_PUBLIC_KEY remove

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
sudo wg-quick save wg0

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–Ω—Ñ–∏–≥–µ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
sudo wg syncconf wg0 <(wg-quick strip wg0)

# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
# –ì–ï–ù–ï–†–ê–¶–ò–Ø –ö–õ–Æ–ß–ï–ô
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞
wg genkey

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ + –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞
wg genkey | tee private.key | wg pubkey > public.key

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è pre-shared key (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ)
wg genpsk

# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
# –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ WireGuard —Å–ª—É—à–∞–µ—Ç –ø–æ—Ä—Ç
sudo ss -tulpn | grep 51820

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å IP forwarding
sysctl net.ipv4.ip_forward

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å NAT –ø—Ä–∞–≤–∏–ª–∞
sudo iptables -t nat -L -n -v

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç—ã
ip route show

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å wg0
ip addr show wg0

# –õ–æ–≥–∏ systemd
sudo journalctl -u wg-quick@wg0 -f

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å firewall
sudo ufw status numbered

# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
# QR –ö–û–î–´
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR –∫–æ–¥–∞ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
qrencode -t ansiutf8 < /etc/wireguard/clients/client1.conf

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR –∫–æ–¥–∞ –≤ PNG —Ñ–∞–π–ª
qrencode -t png -o client1_qr.png < /etc/wireguard/clients/client1.conf

# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
# –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

# –ó–∞—â–∏—Ç–∞ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞
sudo chmod 600 /etc/wireguard/server_private.key
sudo chown root:root /etc/wireguard/server_private.key

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–æ–Ω—Ñ–∏–≥–∞–º
ls -la /etc/wireguard/

# –í–∫–ª—é—á–µ–Ω–∏–µ IP forwarding (–ø–æ—Å—Ç–æ—è–Ω–Ω–æ)
echo "net.ipv4.ip_forward=1" | sudo tee -a /etc/sysctl.conf
sudo sysctl -p

# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
# –ë–≠–ö–ê–ü –ò –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

# –ë—ç–∫–∞–ø –≤—Å–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo tar -czf wireguard-backup-$(date +%Y%m%d).tar.gz /etc/wireguard/

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
sudo tar -xzf wireguard-backup-20250101.tar.gz -C /

# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
# –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π IP (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å IP VPS)
curl ifconfig.me

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å DNS (–¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å VPN DNS)
nslookup google.com

# –¢–µ—Å—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏
speedtest-cli

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Ç–µ—á–∫—É DNS
curl https://www.dnsleaktest.com/

# Ping —á–µ—Ä–µ–∑ VPN
ping -c 4 10.0.0.1
```

### 7.6 –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

**–°–∫—Ä–∏–ø—Ç –±—ç–∫–∞–ø–∞ (`/usr/local/bin/wg-backup.sh`):**
```bash
#!/bin/bash

BACKUP_DIR="/root/wireguard-backups"
DATE=$(date +%Y%m%d_%H%M%S)
BACKUP_FILE="${BACKUP_DIR}/wg-backup-${DATE}.tar.gz"

# –°–æ–∑–¥–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –±—ç–∫–∞–ø–æ–≤
mkdir -p ${BACKUP_DIR}

# –°–æ–∑–¥–∞–µ–º –∞—Ä—Ö–∏–≤
tar -czf ${BACKUP_FILE} /etc/wireguard/

# –£–¥–∞–ª—è–µ–º –±—ç–∫–∞–ø—ã —Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π
find ${BACKUP_DIR} -name "wg-backup-*.tar.gz" -mtime +30 -delete

echo "–ë—ç–∫–∞–ø —Å–æ–∑–¥–∞–Ω: ${BACKUP_FILE}"
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –±—ç–∫–∞–ø–∞ —á–µ—Ä–µ–∑ cron:**
```bash
# –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º crontab
sudo crontab -e

# –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç—Ä–æ–∫—É (–±—ç–∫–∞–ø –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 3:00 –Ω–æ—á–∏)
0 3 * * * /usr/local/bin/wg-backup.sh
```

---

## üìä –í—ã–≤–æ–¥—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –õ—É—á—à–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –†–æ—Å—Å–∏–∏ (2025)

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å—Ç–µ–∫:**

1. **VPS**: Hetzner (–§–∏–Ω–ª—è–Ω–¥–∏—è), DigitalOcean (–ê–º—Å—Ç–µ—Ä–¥–∞–º), Vultr (–§—Ä–∞–Ω–∫—Ñ—É—Ä—Ç)
2. **–ü—Ä–æ—Ç–æ–∫–æ–ª**: AmneziaWG —Å –æ–±—Ñ—É—Å–∫–∞—Ü–∏–µ–π
3. **–ü–æ—Ä—Ç**: 443/udp (–º–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–¥ HTTPS)
4. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: WG-Easy –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞
5. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: Prometheus + Grafana
6. **–†–µ–∑–µ—Ä–≤–Ω—ã–π –∫–∞–Ω–∞–ª**: Shadowsocks + WireGuard

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏:**
```ini
# –°–µ—Ä–≤–µ—Ä
[Interface]
PrivateKey = <KEY>
Address = 10.0.0.1/24
ListenPort = 443  # HTTPS –ø–æ—Ä—Ç

# AmneziaWG –æ–±—Ñ—É—Å–∫–∞—Ü–∏—è
Jc = 5
Jmin = 40
Jmax = 1200
S1 = 0
S2 = 0
H1 = 1
H2 = 2
H3 = 3
H4 = 4

PostUp = iptables -A FORWARD -i awg0 -j ACCEPT; iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
PostDown = iptables -D FORWARD -i awg0 -j ACCEPT; iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE
```

**–ö–ª–∏–µ–Ω—Ç:**
```ini
[Interface]
PrivateKey = <KEY>
Address = 10.0.0.2/32
DNS = 1.1.1.1, 1.0.0.1
MTU = 1380

# –¢–µ –∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—Ñ—É—Å–∫–∞—Ü–∏–∏
Jc = 5
Jmin = 40
Jmax = 1200
S1 = 0
S2 = 0
H1 = 1
H2 = 2
H3 = 3
H4 = 4

[Peer]
PublicKey = <SERVER_KEY>
Endpoint = SERVER_IP:443
AllowedIPs = 0.0.0.0/0, ::/0
PersistentKeepalive = 20
```

### –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

- [ ] –í—ã–±—Ä–∞–Ω VPS –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –†–§
- [ ] –í–∫–ª—é—á–µ–Ω IP forwarding
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω NAT —á–µ—Ä–µ–∑ iptables
- [ ] –û—Ç–∫—Ä—ã—Ç –ø–æ—Ä—Ç WireGuard –≤ firewall
- [ ] –°–æ–∑–¥–∞–Ω—ã —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –∫–ª—é—á–µ–π
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –æ–±—Ñ—É—Å–∫–∞—Ü–∏—è (AmneziaWG –∏–ª–∏ Shadowsocks)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ DNS (–Ω–µ—Ç —É—Ç–µ—á–µ–∫)
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω Kill Switch –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞—Ö
- [ ] –ü—Ä–æ–≤–µ–¥–µ–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
- [ ] –°–æ–∑–¥–∞–Ω—ã QR –∫–æ–¥—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

**–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- WireGuard: https://www.wireguard.com/
- AmneziaWG: https://docs.amnezia.org/documentation/amnezia-wg/

**–ö–ª–∏–µ–Ω—Ç—ã:**
- Windows: https://www.wireguard.com/install/
- Android: https://play.google.com/store/apps/details?id=com.wireguard.android
- iOS: https://apps.apple.com/app/wireguard/id1441195209
- AmneziaWG Android: https://play.google.com/store/apps/details?id=org.amnezia.awg

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- WG-Easy: https://github.com/wg-easy/wg-easy
- WireGuard-UI: https://github.com/ngoduykhanh/wireguard-ui
- UDP2RAW: https://github.com/wangyu-/udp2raw

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- DNS Leak Test: https://dnsleaktest.com
- IP Leak: https://ipleak.net
- Speed Test: https://speedtest.net

---

**–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 11 –¥–µ–∫–∞–±—Ä—è 2025
**–°—Ç–∞—Ç—É—Å:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —É—Å–ª–æ–≤–∏—è—Ö —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫

**–£–¥–∞—á–∏ –≤ –æ–±—Ö–æ–¥–µ —Ü–µ–Ω–∑—É—Ä—ã! üöÄ**
